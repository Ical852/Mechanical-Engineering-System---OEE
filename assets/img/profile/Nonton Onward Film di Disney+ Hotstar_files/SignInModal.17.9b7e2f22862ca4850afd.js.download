(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1034:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var r=a(7),n=a.n(r),i=a(12),s=a(5);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c=a(4).a.configuration.PNL_CONFIG,l=(c=void 0===c?{}:c).LOGIN_BLOCKER,d=(l=void 0===l?{}:l).EXLUDE_ROUTES,f=void 0===d?{}:d,E=l.INCLUDED_COUNTRY,p=void 0===E?{}:E,g=l.EMAIL_BLOCKER_ENABLED,O=void 0===g||g,v=u({PAYMENTS:{route:"/subscribe/payment"},GET_STARTED:{route:"/subscribe/get-started"},PROMO:{route:"/subscribe/promo"}},f),S=u({IN:{code:"IN"}},p),y=function(){var e,t,a=i.canUseDOM?window.location.href:"";return O&&(t=decodeURIComponent(a),!Object.values(v).some((function(e){return t.indexOf(e.route)>-1})))&&(e=s.a.getWebsiteCountry(),Object.values(S).some((function(t){return t.code.toLowerCase()===e.toLowerCase()})))}},1075:function(e,t,a){"use strict";var r=a(20),n=a.n(r),i=a(7),s=a.n(i),o=a(10),u=a.n(o),c=a(13),l=a.n(c),d=a(81),f=a.n(d),E=a(24),p=a.n(E),g=a(25),O=a.n(g),v=a(17),S=a.n(v),y=a(135),b=a(48),h=a(1121),I=a(932),T=a(0),P=a.n(T),m=a(2),N=a.n(m),_=a(21),R=a.n(_),L=a(80),k=a.n(L),C=a(9),w=a(790),M=a(4),D=a(1139),A=a(1034),U=a(43);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(Object(a),!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G=M.a.configuration.PNL_CONFIG,H=void 0===G?{}:G,x=H.PNL_FLOW_V2,j=(x=void 0===x?{}:x).FB_FLOW_V2_MIGRATION_ENABLED,V=void 0!==j&&j,K=H.COUNTRY_CODE,W=void 0===K?91:K,Y=H.TRUNK_NUMBER,J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Y&&e.charAt(0)===Y?e.slice(1):e},q={getOTPCode:function(){return{remote:(e=N()(P.a.mark((function e(t,a){var r,n,i,s,o,u,c,l,d,f,E,p;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.OTPUserType,n=a.mode,i=t[r],s=t.fbMigrationStatus,o=C.a.getDeviceID(),e.next=5,C.a.getUserToken();case 5:if(u=e.sent,c=C.a.getUUID(),l="phone_".concat(n),d={userIdentity:u,deviceId:o,uuid:c},f=r===w.b.EMAIL?{email:i}:{phone_number:J(i),country_prefix:"".concat(W)},E={payload:f,infoPayload:{}},p={registerBy:l,updateInfo:!1,isGdprCountry:U.a.isGdprCountry()},!V||s!==w.a.PHONE_NOT_LINKED){e.next=16;break}return d.userIdentity=a.userIdentity,p={verifyBy:"phone_otp",source:"phone_migration"},e.abrupt("return",R.a.restCall("verifyUser",d,f,p));case 16:return e.abrupt("return",R.a.restCall("signup",d,E,p));case 17:case"end":return e.stop()}}),e)}))),function(t,a){return e.apply(this,arguments)}),local:function(){return null},success:I.a.getOTPCallback,error:I.a.getOTPCallback};var e},submitOTPCode:function(){return{remote:(e=N()(P.a.mark((function e(t,a){var r,n,i,s,o,u,c,l,d,f,E,p,g;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.OTPUserType,n=a.mode,i=a.fbId,s=t[r],o=t.otp,u=t.fbMigrationStatus,c=C.a.getDeviceID(),e.next=5,C.a.getUserToken();case 5:if(e.t0=e.sent,e.t1=c,e.t2=C.a.generateUUID(),l={userIdentity:e.t0,deviceId:e.t1,uuid:e.t2},d=r===w.b.EMAIL?{email:s,verification_code:o}:{phone_number:J(s),verification_code:o},V&&u===w.a.PHONE_LINKED&&i&&(d={facebook_id:i,verification_code:o}),f="phone_".concat(n),E={loginBy:f},!V||u!==w.a.PHONE_NOT_LINKED){e.next=18;break}return l.userIdentity=a.userIdentity,E={source:"phone_migration"},p={phone_login_info:{phone_number:s,verification_code:o}},e.abrupt("return",R.a.restCall("updateUserInfo",l,p,E));case 18:return e.next=20,R.a.restCall("login",l,d,E);case 20:return g=e.sent,e.abrupt("return",Promise.resolve(g));case 22:case"end":return e.stop()}}),e)}))),function(t,a){return e.apply(this,arguments)}),local:function(){return null},success:I.a.submitOTPCallback,error:I.a.submitOTPCallback};var e},updateInfo:function(){return{remote:function(e,t){var a={deviceId:C.a.getDeviceID(),uuid:C.a.generateUUID(),userIdentity:t.userIdentity},r={age:t.age,gender:t.gender,first_name:t.fname,last_name:t.lname};return R.a.restCall("updateUserInfo",a,r,{tamperedTokenRedirect:!0})},local:function(){return null},success:I.a.updateProfileCallback,error:I.a.updateProfileCallback}},checkEmailExist:function(){return{remote:(e=N()(P.a.mark((function e(t){var a,r,n,i,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=w.b.EMAIL,n=C.a.getDeviceID(),i={id:a,type:r.toUpperCase()},e.next=6,C.a.getUserToken();case 6:return e.t0=e.sent,e.t1=n,e.t2=C.a.generateUUID(),s={userIdentity:e.t0,deviceId:e.t1,uuid:e.t2},e.abrupt("return",R.a.restCall("getLoginMethods",s,i));case 11:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)}),local:function(){return null},success:I.a.emailExistCallback,error:I.a.emailExistCallback};var e},loginFB:function(){return{remote:(e=N()(P.a.mark((function e(t,a){var r,n,i,s,o,u;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=C.a.getDeviceID(),n=a.fbId,i=a.token,e.next=4,C.a.getUserToken();case 4:return e.t0=e.sent,e.t1=r,e.t2=C.a.generateUUID(),s={userIdentity:e.t0,deviceId:e.t1,uuid:e.t2},o=B({facebook_id:n,token:i},V?{phone_migration_enabled:!0}:{}),u={loginBy:"facebook"},e.abrupt("return",R.a.restCall("login",s,o,u));case 12:case"end":return e.stop()}}),e)}))),function(t,a){return e.apply(this,arguments)}),local:function(){return null},success:I.a.FBLoginCallback,error:I.a.FBLoginCallback};var e},loginEmail:function(){return{remote:(e=N()(P.a.mark((function e(t){var a,r,n,i,s,o,u,c,l,d;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=t.password,n=C.a.getDeviceID(),e.next=4,C.a.getUserToken();case 4:return e.t0=e.sent,e.t1=n,e.t2=C.a.generateUUID(),i={userIdentity:e.t0,deviceId:e.t1,uuid:e.t2},s={email:a,password:r},o=w.b.EMAIL,u={loginBy:o},e.next=13,R.a.restCall("login",i,s,u);case 13:if(c=e.sent,l=k()(c,"description.userIdentity",""),!Object(A.a)(l)){e.next=21;break}return e.next=18,Object(D.a)(l);case 18:e.t3=e.sent,e.next=22;break;case 21:e.t3=!1;case 22:return d=e.t3,e.abrupt("return",Promise.resolve(B({},c,{blockEmailLogin:d})));case 24:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)}),local:function(){return null},success:I.a.emailLoginCallback,error:I.a.emailLoginCallback};var e},signupByEmail:function(){return{remote:(e=N()(P.a.mark((function e(t){var a,r,i,s,o,u,c,l,d,f,E,p,g,O,v,S,y,b,h,I,T,m,N;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.getUserToken();case 2:return a=e.sent,r=C.a.getDeviceID(),i=C.a.getUUID(),s={userIdentity:a,deviceId:r,uuid:i},o=t.email,u=t.password,c=t.usertype,l=t.name,d=t.age,f=void 0===d?"":d,E=t.gender,p=void 0===E?"":E,g={email:o,password:u},O=l.split(" "),v=n()(O,2),S=v[0],y=void 0===S?"hotstar":S,b=v[1],I={first_name:y,age:f,gender:p},(h=void 0===b?"":b)&&(I.last_name=h),T={payload:g,infoPayload:I},m={registerBy:c,updateInfo:!0,isGdprCountry:U.a.isGdprCountry()},e.next=15,R.a.restCall("signup",s,T,m);case 15:return N=e.sent,e.abrupt("return",N);case 17:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)}),local:function(){return null},success:I.a.signupByEmailSuccess,error:I.a.signupByEmailFailure};var e},sendResetPasswordEmail:function(){return{remote:(e=N()(P.a.mark((function e(t){var a,r,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r={email:a},e.next=4,C.a.getUserToken();case 4:return e.t0=e.sent,e.t1=C.a.getDeviceID(),e.t2=C.a.generateUUID(),n={userIdentity:e.t0,deviceId:e.t1,uuid:e.t2},e.abrupt("return",R.a.restCall("forgotPassword",n,r));case 9:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)}),local:function(){return null},success:I.a.sendResetPasswordEmailSuccess,error:I.a.sendResetPasswordEmailFail};var e}},z=a(14),Q=a(23),X=a(1167),Z=a.n(X),$=a(27),ee=a(251),te=a(1);function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(a),!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ne(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ie=M.a.configuration.PNL_CONFIG,se=(void 0===ie?{}:ie).PNL_FLOW_V2,oe=(se=void 0===se?{}:se).SHOW_LOGIN_HOME,ue=void 0!==oe&&oe,ce=se.EMAIL_FLOW_V2_ENABLED,le=void 0!==ce&&ce,de=se.FB_FLOW_V2_MIGRATION_ENABLED,fe=void 0!==de&&de,Ee=te.e.USER_TYPES,pe=Ee.OLD_USER,ge=Ee.NEW_USER;function Oe(e){return function(t){var a={};for(var r in t)e(t[r],r)&&(a[r]=t[r]);return a}}var ve=Oe((function(e){return!!e})),Se=Oe((function(e,t){return w.g.includes(t)&&!!e})),ye=function(e){p()(r,e);var t,a=(t=r,function(){var e,a=S()(t);if(ne()){var r=S()(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return O()(this,e)});function r(){var e;u()(this,r);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).getOTPCallback=function(t){var a=t.errorMessageV3,r=t.description,n=(r=void 0===r?{}:r).phone,i=t.httpStatus,s=t.errorCode,o=null;if(200===i||201===i)o="Success",e.setState({dialogState:te.c.NONE,maskedPhone:n,viewType:w.e.OTP_ENTER});else{o="Submit Failed";var u=e.buildErrorMessage(a,s);e.setState({dialogState:te.c.ERROR,errorMessage:u})}e.state.resendOTPTries>0?$.a.fireResendOTPEvent({noOfTries:e.state.resendOTPTries,otpType:"otp"===e.data.mode?"SMS":"Call"}):$.a.fireSubmittedPhoneNumberEvent({pageTitle:"Enter Phone Number",response:o})},e.submitOTPCallback=function(t){var a=t.httpStatus,r=t.description,n=(r=void 0===r?{}:r).userIdentity,i=t.errorCode,s=t.errorMessageV3,o=null;if(201===a||200===a){e.userType=200===a?pe:ge;var u=z.a.getSubsDataFromJwt(n),c=u.sub,l=(c=void 0===c?{}:c).extAuthId,d=!u.name&&!l,f=e.data.fbId&&!l,E=d?w.e.PROFILE_ENTER:w.e.SUCCESSFUL_DISPLAY,p=201===a;e.data.userIdentity=n,e.setState((function(){return re({},Se(u),{dialogState:te.c.NONE,isSignup:p,viewType:E})}),e.finishLogin),d||f&&(fe||e.updateProfileWithFB()),o="Success"}else{var g=e.buildErrorMessage(s,i);e.setState({dialogState:te.c.ERROR,errorMessage:g}),o=401===a?"Invalid":"Submit Failed"}$.a.fireSubmittedOTPEvent({otpType:"otp"===e.data.mode?"SMS":"Call",pageTitle:"Enter OTP",response:o})},e.finishLogin=function(){var t=e.state,a=t.email,r=t.age,n=t.gender,i=t.dateOfBirth,s=e.data,o=s.fbId,u=s.fbToken,c={description:{userIdentity:s.userIdentity},facebookObj:{deviceId:C.a.getDeviceID(),fbId:o,emailId:a,isProfileRequired:!1,token:u,dateOfBirth:i,age:r,gender:C.a.getGender(n)},isPNL:!(window&&window.location&&window.location.href&&/returnURL/g.test(window.location.href)),userType:e.userType};e.userType===ge?setTimeout((function(){return Q.a.signupSuccess(c)}),0):setTimeout((function(){return Q.a.loginSuccess(c)}),0)},e.emailProfileUpdate=function(t){var a=w.e.PROFILE_ENTER;e.setState((function(){return{dialogState:te.c.NONE,isSignup:!0,viewType:a,usertype:t}}),e.finishLogin)},e.updateProfileCallback=function(t){var a=t.httpStatus,r=t.description,n=(r=void 0===r?{}:r).userIdentity,i=t.errorCode,s=t.errorMessageV3,o=null;if(200===a||201===a){o="Success";var u=z.a.getSubsDataFromJwt(n);e.data.userIdentity=n,e.setState(re({},Se(u),{dialogState:te.c.NONE,viewType:w.e.SUCCESSFUL_DISPLAY}))}else{o="Submit Failed";var c=e.buildErrorMessage(s,i);e.setState({dialogState:te.c.ERROR,errorMessage:c})}$.a.fireSubmittedAboutYouEvent({enteredValueName:e.data.fname,enteredValueAge:e.data.age,enteredValueGender:e.data.gender,pageTitle:"About You",response:o,userType:e.userType})},e.emailExistCallback=function(t){var a=t.description,r=(a=void 0===a?{}:a).exists,n=a.usertype,i=t.errorCode,s=t.errorMessageV3,o="Success";if(!1===r)le?e.setState({dialogState:te.c.NONE,isSignup:!0,viewType:w.e.EMAIL_LOGIN}):e.setState({dialogState:te.c.NONE,isSignup:!0,viewType:w.e.PHONE_ENTER});else if(n===w.b.PHONE)e.data.OTPUserType=w.b.EMAIL,e.getOTPCodeViaMsg();else if(n===w.b.EMAIL||n===w.b.MERGED)e.setState({dialogState:te.c.NONE,usertype:n,viewType:w.e.EMAIL_LOGIN});else if(n===w.b.FB)e.setState({dialogState:te.c.NONE,usertype:n,viewType:w.e.FB_LOGIN});else{o="Submit Failed";var u=e.buildErrorMessage(s,i);e.setState({dialogState:te.c.ERROR,errorMessage:u})}$.a.fireSubmittedEmailEvent({enteredEmail:e.state.email,pageTitle:"Alternate Login Methods",response:o})},e.FBLoginCallback=function(t){var a,r,n=t.httpStatus,i=t.description,s=(i=void 0===i?{}:i).userIdentity,o=t.errorCode,u=t.errorMessageV3,c=t.status,l=t.phone,d=null,f=w.e.PHONE_ENTER;if(fe){var E=!1;200===n?(d="Success",e.userType=pe,e.data.userIdentity=s,c===w.a.PHONE_LINKED?(r=c,f=w.e.OTP_ENTER):c===w.a.PHONE_NOT_LINKED&&(r=c,E=!0,f=w.e.PHONE_ENTER)):406===n?(r=w.a.FACEBOOK_USER_CREATION_NOT_ALLOWED,d="Success",E=!0,f=w.e.PHONE_ENTER,e.userType=ge,e.resetFbToken()):(d="Submit Failed",a=e.buildErrorMessage(u,o),ue&&(f=w.e.LOGIN_HOME));var p="Success"===d;e.setState(re({isSignup:E,dialogState:p?te.c.NONE:te.c.ERROR,viewType:f,phone:""},l?{maskedPhone:l}:{},{fbMigrationStatus:r},p?{errorMessage:a}:{},{},a?{errorMessage:a}:{}))}else if(200===n||201===n){d="Success",e.userType=pe;var g=z.a.getSubsDataFromJwt(s);e.data.userIdentity=s,e.setState(re({},Se(g),{dialogState:te.c.NONE,usertype:w.b.FB,viewType:w.e.SUCCESSFUL_DISPLAY,phone:""}),e.finishLogin)}else 406===n?(d="Success",e.userType=ge,e.data.userIdentity=s,e.setState({isSignup:!0,dialogState:te.c.NONE,viewType:w.e.PHONE_ENTER,phone:""})):(d="Submit Failed",a=e.buildErrorMessage(u,o),e.setState({dialogState:te.c.ERROR,errorMessage:a}));$.a.fireSubmittedFacebookEvent({enteredEmail:e.state.email,pageTitle:"Alternate Login Methods",response:d})},e.shouldOverrideLoginViewState=function(e){var t={};return e&&(t.viewType=w.e.LOGIN_BLOCKER),t},e.emailLoginCallback=function(t){var a=t.httpStatus,r=t.description,n=(r=void 0===r?{}:r).userIdentity,i=t.errorCode,s=t.errorMessageV3,o=t.blockEmailLogin,u=null;if(201===a||200===a){u="Success",e.userType=200===a?pe:ge;var c=z.a.getSubsDataFromJwt(n),l=e.shouldOverrideLoginViewState(o);e.data.userIdentity=n,e.setState(re({},Se(c),{dialogState:te.c.NONE,viewType:w.e.SUCCESSFUL_DISPLAY,phone:"",userIdentity:n},l),e.finishLogin)}else{var d=e.buildErrorMessage(s,i);e.setState({dialogState:te.c.ERROR,errorMessage:d}),u=Z.a[i]&&Z.a[i].analyticsTitle||"Submit Failed"}$.a.fireSubmittedPasswordEvent({enteredEmail:e.state.email,pageTitle:"Enter Password",response:u})},e.sendResetPasswordEmailSuccess=function(t){t.success?(e.setState({dialogState:te.c.NONE,viewType:w.e.RESET_PASSWORD_SENT}),$.a.fireResetPasswordEvent({enteredEmail:e.state.email,pageTitle:"Forgot Password",response:"Success",source:"Forgot Password"})):e.sendResetPasswordEmailFail(t)},e.sendResetPasswordEmailFail=function(t){var a=t.errorMessageV3,r=t.errorCode,n=e.buildErrorMessage(a,r);e.setState({dialogState:te.c.ERROR,errorMessage:n}),$.a.fireResetPasswordEvent({enteredEmail:e.state.email,pageTitle:"Forgot Password",response:"ERR_UM_020"===r?"Invalid Email":"Submit Failed",source:"Forgot Password"})},y.canUseDOM&&(window.strUtils=z.a,window.PNLStore=f()(e)),e.state=w.d,ue&&(e.state.viewType=w.e.LOGIN_HOME),e.data=w.c,e.bindActions(I.a),e.exportAsync(q),e}return l()(r,[{key:"setPhone",value:function(e){this.setState({phone:e})}},{key:"setEmail",value:function(e){this.setState({email:e})}},{key:"setPassword",value:function(e){this.setState({password:e})}},{key:"setOTP",value:function(e){this.setState({otp:e})}},{key:"setName",value:function(e){this.setState({name:e})}},{key:"setAge",value:function(e){this.setState({age:e})}},{key:"setGender",value:function(e){this.setState({gender:e})}},{key:"setViewType",value:function(e){this.setState({viewType:e})}},{key:"goBack",value:function(){var e=this.state,t=e.viewType,a=e.isSignup,r=e.email,n=e.usertype,i=e.fbMigrationStatus,s=void 0===i?"":i,o=this.data.fbId,u=t,c=n,l=a,d=!1;switch(t){case w.e.PHONE_ENTER:l=!1,ue?(u=w.e.LOGIN_HOME,d=!0,this.resetFbToken()):u=a&&o?w.e.FB_LOGIN:w.e.EMAIL_CHECK;break;case w.e.EMAIL_CHECK:ue?(u=w.e.LOGIN_HOME,this.resetFbToken()):u=w.e.PHONE_ENTER;break;case w.e.OTP_ENTER:s===w.a.PHONE_LINKED?(d=!0,u=ue?w.e.LOGIN_HOME:w.e.PHONE_ENTER,l=!1,this.resetFbToken()):u=this.data.OTPUserType===w.b.EMAIL?w.e.EMAIL_CHECK:w.e.PHONE_ENTER,this.data.OTPUserType=w.b.PHONE;break;case w.e.EMAIL_LOGIN:c=w.b.PHONE,u=w.e.EMAIL_CHECK;break;case w.e.PROFILE_ENTER:r||o||(l=!1),u=le&&c===w.b.EMAIL?w.e.EMAIL_LOGIN:w.e.OTP_ENTER;break;case w.e.RESET_PASSWORD_ENTER:u=w.e.EMAIL_LOGIN;break;case w.e.FB_LOGIN:c=w.b.PHONE,u=w.e.EMAIL_CHECK;break;case w.e.RESET_PASSWORD_SENT:u=w.e.RESET_PASSWORD_ENTER}this.setState(re({dialogState:te.c.NONE,isSignup:l,viewType:u,usertype:c},d?{fbMigrationStatus:""}:{}))}},{key:"resendOTPCodeViaMsg",value:function(){this.setState((function(e){return{resendOTPTries:e.resendOTPTries+1}}));var e=this.state.fbMigrationStatus;if(fe){var t=this.data,a=t.fbId,r=t.fbToken;e===w.a.PHONE_LINKED?this.getInstance().loginFB({fbId:a,token:r}):this.getOTPCodeViaMsg()}else this.getOTPCodeViaMsg()}},{key:"getOTPCodeViaMsg",value:function(){return this.data.mode="otp",this.getOTPCode()}},{key:"resendOTPCodeViaCall",value:function(){this.getOTPCodeViaCall()}},{key:"getOTPCodeViaCall",value:function(){return this.data.mode="ivr",this.getOTPCode()}},{key:"getOTPCode",value:function(){return this.setState({dialogState:te.c.GET_OTP_LOADING}),this.getInstance().getOTPCode(this.data)}},{key:"submitOTPCode",value:function(){this.setState({dialogState:te.c.PRIMARY_LOADING}),this.getInstance().submitOTPCode(this.data)}},{key:"updateProfileWithFB",value:function(){var e=this.data,t=e.userIdentity,a=e.fbId,r=e.fbToken,n={userIdentity:t,ext_fb:a&&r?{fbId:a,token:r}:void 0};return this.updateInfo(n)}},{key:"signupByEmail",value:function(){return this.setState({dialogState:te.c.PRIMARY_LOADING}),this.getInstance().signupByEmail()}},{key:"signupByEmailSuccess",value:function(e){var t=e.description,a=(t=void 0===t?{}:t).userIdentity,r=z.a.getSubsDataFromJwt(a);this.data.userIdentity=a,this.setState(re({},Se(r),{dialogState:te.c.NONE,viewType:w.e.SUCCESSFUL_DISPLAY}))}},{key:"signupByEmailFailure",value:function(e){var t=e.errorMessageV3,a=e.errorCode,r=this.buildErrorMessage(t,a);this.setState({dialogState:te.c.ERROR,errorMessage:r})}},{key:"updateProfile",value:function(){var e=this.state,t=e.name,a=e.age,r=e.gender,i=e.email,s=this.data,o=s.userIdentity,u=s.fbId,c=s.fbToken,l=t.split(" "),d=n()(l,2),f=u&&c?{fbId:u,token:c}:void 0,E={userIdentity:o,fname:d[0],lname:d[1],gender:r,age:a,email:!!z.a.getSubsDataFromJwt(o).email||"phone"===this.state.usertype?"":i,ext_fb:f};return this.updateInfo(E)}},{key:"updateInfo",value:function(e){return this.setState({dialogState:te.c.PRIMARY_LOADING}),this.getInstance().updateInfo(ve(e))}},{key:"checkEmailExist",value:function(){return this.setState({dialogState:te.c.PRIMARY_LOADING}),this.getInstance().checkEmailExist()}},{key:"resetFbToken",value:function(){this.data.fbId="",this.data.fbToken=""}},{key:"loginFB",value:function(e){var t=n()(e,2)[1],a=t.profile,r=void 0===a?{}:a,i=t.tokenDetail,s=void 0===i?{}:i,o=r.id,u=r.email,c=r.first_name,l=r.last_name,d=r.birthday,f=r.gender,E=r.age,p=s.accessToken,g="".concat(c," ").concat(l),O={dialogState:te.c.FACEBOOK_LOADING};return fe||(O=re({},O,{name:g,email:u,age:E,gender:f,dateOfBirth:d})),this.setState(O),this.data.fbId=o,this.data.fbToken=p,this.getInstance().loginFB({fbId:o,token:p})}},{key:"loginEmail",value:function(e){var t={dialogState:te.c.PRIMARY_LOADING};return e&&(t.usertype=e),this.setState(t),this.getInstance().loginEmail()}},{key:"sendResetPasswordEmail",value:function(){return this.setState({dialogState:te.c.PRIMARY_LOADING}),this.getInstance().sendResetPasswordEmail()}},{key:"navigateEmailFB",value:function(e){var t=e.displayName,a=e.itemType;this.setState({dialogState:te.c.NONE,viewType:w.e.EMAIL_CHECK}),$.a.fireSelectedAlternateLoginMethodsEvent(),$.a.fireClickedItemEvent({display_name:t,item_type:a})}},{key:"navigateForgotPassword",value:function(){this.setState({dialogState:te.c.NONE,viewType:w.e.RESET_PASSWORD_ENTER})}},{key:"navigateFb",value:function(){this.setState({dialogState:te.c.NONE}),$.a.fireInitiatedFacebook()}},{key:"navigateEmail",value:function(){this.setState({dialogState:te.c.NONE,viewType:w.e.EMAIL_CHECK}),$.a.fireInitiatedEmail()}},{key:"navigatePhone",value:function(){this.setState({dialogState:te.c.NONE,viewType:w.e.PHONE_ENTER}),$.a.fireInitiatedMobileNumber()}},{key:"fireEventOnMount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";$.a.fireViewedPageEvent({name:e})}},{key:"tryAnotherPhone",value:function(){this.data.OTPUserType=w.b.PHONE,this.setState({dialogState:te.c.NONE,viewType:w.e.PHONE_ENTER})}},{key:"buildErrorMessage",value:function(e,t){var a=Object(ee.a)(t);return e||a.description}},{key:"setOTPUserTypeInData",value:function(e){this.data.OTPUserType=e}}]),r}(h.a);t.a=b.a.createStore(ye,"PNLStore")},1139:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var r=a(0),n=a.n(r),i=a(2),s=a.n(i),o=a(21),u=a.n(o),c=a(9),l=["ERR_UM_137","ERR_UM_134"],d=["ERR_UM_071","ERR_UM_099","UMSP_601"],f=a(82),E=function(){var e=s()(n.a.mark((function e(t){var a,r,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,e.t0){e.next=5;break}return e.next=4,c.a.getUserToken();case 4:e.t0=e.sent;case 5:return e.t1=e.t0,e.t2=c.a.getDeviceID(),e.t3=c.a.generateUUID(),a={userIdentity:e.t1,deviceId:e.t2,uuid:e.t3},r=!1,e.prev=10,e.next=13,u.a.restCall("getPhoneLinkingStatus",a);case 13:e.next=19;break;case 15:e.prev=15,e.t4=e.catch(10),i=e.t4.errorCode,l.includes(i)?r=!0:d.indexOf(i)>-1&&f.a.logOut({});case 19:return e.abrupt("return",Promise.resolve(r));case 20:case"end":return e.stop()}}),e,null,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()},1167:function(e,t){e.exports={ERR_UM_036:{analyticsTitle:"Incorrect Password"},ERR_UM_059:{analyticsTitle:"Max login attempt reached"}}},1495:function(e,t,a){"use strict";var r=a(3),n=a.n(r),i=(a(8),a(33),a(59)),s=a(1034),o=function(e){var t=e.userIdentity,r=e.onAnotherAccountClicked,o=e.height;return n()(i.a,{loader:function(){return Promise.all([a.e(0),a.e(41)]).then(a.bind(null,1627))},showBlocker:s.a,userIdentity:t,onAnotherAccountClicked:r,height:o})};o.defaultProps={userIdentity:"",onAnotherAccountClicked:function(){},height:""},t.a=o},2046:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a.n(r),i=a(8),s=a.n(i),o=a(93),u=a.n(o),c=a(12),l=a(82),d=a(23),f=a(1075),E=a(10),p=a.n(E),g=a(13),O=a.n(g),v=a(24),S=a.n(v),y=a(25),b=a.n(y),h=a(17),I=a.n(h),T=(a(33),a(5)),P=a(1495),m=a(1034),N=a(790);function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var R=Object(i.lazy)((function(){return Promise.all([a.e(0),a.e(4),a.e(94)]).then(a.bind(null,2047))})),L=n()("div",{}),k=function(e){S()(r,e);var t,a=(t=r,function(){var e,a=I()(t);if(_()){var r=I()(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return b()(this,e)});function r(e){var t;return p()(this,r),(t=a.call(this,e)).onCloseModal=function(){t.props.globalAction.hideSignInModal.defer(!0)},t.isModalVisible=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.globalStore,a=t.signInModalData,r=void 0===a?{}:a;return r.show||!1},t.showPhoneLinkBlocker=function(){var e=t.props.pnlStore;return(e=void 0===e?{}:e).viewType===N.e.LOGIN_BLOCKER&&Object(m.a)()&&!T.a.isSubsWeb()},t.showModal=!1,t.countryCode=T.a.getWebsiteCountry(),t}return O()(r,[{key:"shouldComponentUpdate",value:function(e){var t=e.pnlStore.viewType,a=this.props.pnlStore.viewType;return this.showModal!==this.isModalVisible(e)||a!==t}},{key:"render",value:function(){var e=this.props,t=e.globalStore,a=e.pnlStore.userIdentity,r=t.signInModalData,o=void 0===r?{}:r,u=t.loginState,c=void 0!==u&&u;return this.showModal=this.isModalVisible(this.props),n()(s.a.Fragment,{},void 0,n()("div",{className:"signin-modal-wrapper",style:{display:this.showPhoneLinkBlocker()?"none":"block"}},void 0,this.showModal&&n()(i.Suspense,{fallback:L},void 0,n()(R,{onCloseModal:this.onCloseModal,modalState:this.showModal,loginState:c,countryCode:this.countryCode,signInModalData:o}))),this.showPhoneLinkBlocker()&&n()(P.a,{userIdentity:a}))}}]),r}(s.a.Component);t.default=function(e){return c.canUseDOM?n()("div",{className:"sign-in-container"},void 0,n()(u.a,{stores:{globalStore:l.a,pnlStore:f.a},actions:{globalAction:d.a}},void 0,s.a.createElement(k,e))):null}},790:function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"g",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return l})),a.d(t,"f",(function(){return d})),a.d(t,"a",(function(){return o}));var r=a(1),n=a(5),i={PHONE_ENTER:"PHONE_ENTER",EMAIL_CHECK:"EMAIL_CHECK",OTP_ENTER:"OTP_ENTER",EMAIL_LOGIN:"EMAIL_LOGIN",FB_LOGIN:"FB_LOGIN",PROFILE_ENTER:"PROFILE_ENTER",SUCCESSFUL_DISPLAY:"SUCCESSFUL_DISPLAY",RESET_PASSWORD_ENTER:"RESET_PASSWORD_ENTER",RESET_PASSWORD_SENT:"RESET_PASSWORD_SENT",LOGIN_BLOCKER:"LOGIN_BLOCKER",LOGIN_HOME:"LOGIN_HOME"},s={PHONE:"phone",EMAIL:"email",FB:"facebook",MERGED:"merged"},o={PHONE_LINKED:"PHONE_LINKED",PHONE_NOT_LINKED:"PHONE_NOT_LINKED",FACEBOOK_USER_CREATION_NOT_ALLOWED:"FACEBOOK_USER_CREATION_NOT_ALLOWED"},u={viewType:i.PHONE_ENTER,usertype:s.PHONE,dialogState:r.e.PNL_DIALOG_STATE.NONE,isSignup:!1,errorMessage:"",email:"",password:"",phone:"",maskedPhone:"",otp:"",name:"",age:"",gender:"",dateOfBirth:"",resendOTPTries:0,fbMigrationStatus:"",showPlatformIcons:function(){var e=n.a.parseQueryString().returnURL,t=void 0===e?"":e;if(t){var a=t.indexOf(r.e.SUBSCRIBE_ROUTES.ACTIVATE)>-1;return n.a.isIndia()&&a}return!1}()},c=["phone","name","email","gender","age","dateOfBirth"],l={OTPUserType:s.PHONE,userIdentity:"",fbId:"",fbToken:"",mode:"otp"},d="updatePassword"},932:function(e,t,a){"use strict";var r=a(10),n=a.n(r),i=a(24),s=a.n(i),o=a(25),u=a.n(o),c=a(17),l=a.n(c),d=a(48);function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var E=function(e){s()(r,e);var t,a=(t=r,function(){var e,a=l()(t);if(f()){var r=l()(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return u()(this,e)});function r(){var e;return n()(this,r),(e=a.apply(this,arguments)).generateActions("setPhone","setEmail","setPassword","setOTP","setName","setAge","setGender","getOTPCodeViaMsg","getOTPCodeViaCall","submitOTPCode","updateProfile","checkEmailExist","loginFB","loginEmail","sendResetPasswordEmail","goBack","navigateEmailFB","navigateForgotPassword","tryAnotherPhone","finishLogin","resendOTPCodeViaMsg","resendOTPCodeViaCall","setViewType","getOTPCallback","submitOTPCallback","updateProfileCallback","emailExistCallback","FBLoginCallback","emailLoginCallback","sendResetPasswordEmailSuccess","sendResetPasswordEmailFail","setOTPUserTypeInData","navigateFb","navigateEmail","navigatePhone","emailProfileUpdate","signupByEmail","signupByEmailSuccess","signupByEmailFailure","fireEventOnMount"),e}return r}(a(1120).a);t.a=d.a.createActions(E)}}]);