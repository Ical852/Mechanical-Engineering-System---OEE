(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1889:function(e,t,n){var a=n(1890),i=n(71),o="string"==typeof a?[[e.i,a,""]]:a;(t=e.exports=a.locals||{})._getContent=function(){return o},t._getCss=function(){return""+a},t._updateCss=function(t){o="string"==typeof(a=t)?[[e.i,a,""]]:a},t._insertCss=function(e){return i(o,e)}},1890:function(e,t,n){(t=n(68)(!1)).push([e.i,'.parental-lock-modal{position:fixed;width:100%;height:100%;background:rgba(23,23,23,0.5);margin:0;top:0;left:0;z-index:1000000;-webkit-transition:all 0.5s ease 1s;-o-transition:all 0.5s ease 1s;transition:all 0.5s ease 1s}.parental-lock-modal .modal-base{padding:0;height:auto}@media only screen and (max-width: 479px){.parental-lock-modal>.generic-modal .modal-base{width:100%}.parental-lock-modal>.generic-modal .modal-base .modal-body{padding:21px 17px 33px}}@media only screen and (min-width: 480px){.parental-lock-modal>.generic-modal .modal-base{width:460px}}.parental-lock-modal.showModal{display:table}.parental-lock-modal.hideModal{display:none}.parental-lock-container{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.parental-lock-container .lock-icon{height:66px;width:auto}.parental-lock-container .title{margin-top:18px;font-weight:500;font-size:18px;line-height:24px;letter-spacing:-0.1px;color:var(--TEXT_COLOR_L3)}.parental-lock-container .subtitle{margin:6px 0 10px;font-weight:normal;font-size:14px;line-height:24px;text-align:center;letter-spacing:-0.1px;color:#fff;opacity:0.6}.parental-lock-container .forgot-pin-link{margin-top:20px;font-size:14px}.parental-lock-container .error-container{color:#d50000;font-size:14px;margin-top:20px}.parental-lock-container .submit-button{font-size:14px;font-weight:500;color:#fff;padding:15px 18px 15px;border-radius:3px;text-align:center;text-transform:uppercase;background:var(--BRAND_BLUE);border:none;outline:0;outline-color:transparent;position:relative;outline:none !important;width:100%;height:49px;padding:15px 18px 15px;margin-top:20px}.parental-lock-container .submit-button.loader{pointer-events:none}.parental-lock-container .submit-button.loader:before{content:"";display:block;position:absolute;top:0;left:0;bottom:0;right:0;background-color:var(--BRAND_BLUE);border-radius:3px}.parental-lock-container .submit-button.loader:after{-webkit-animation:hs-spin 800ms linear infinite;-o-animation:hs-spin 800ms linear infinite;animation:hs-spin 800ms linear infinite;border-radius:50%;-webkit-transform:translateX(-50%);-o-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);border:3px solid #fff;border-right-color:transparent;border-bottom-color:transparent;content:"";height:21px;left:50%;top:50%;margin-top:-10.5px;margin-left:-10.5px;position:absolute;width:21px}.parental-lock-container .submit-button:disabled{opacity:0.4;cursor:not-allowed}.parental-lock-container .submit-button.grey-btn{color:#fff;border:none}\n',""]),e.exports=t},2036:function(e,t,n){"use strict";n.r(t);var a=n(3),i=n.n(a),o=n(8),r=n.n(o),l=n(93),s=n.n(l),c=n(12),p=n(82),d=n(23),u=n(0),b=n.n(u),f=n(2),m=n.n(f),g=n(10),_=n.n(g),k=n(13),h=n.n(k),v=n(48),x=n(7),O=n.n(x),E=n(196),S=n(9);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={verifyPin:function(){return{remote:(e=m()(b.a.mark((function e(t,a){var i,o,r,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.getUserToken();case 2:return e.t0=e.sent,e.t1=S.a.getDeviceID(),e.t2=S.a.generateUUID(),i={userIdentity:e.t0,deviceId:e.t1,uuid:e.t2},o={profile:"ADULT"},e.next=9,Promise.resolve().then(n.t.bind(null,21,7));case 9:return r=e.sent,e.next=12,r.default.restCall("verifyPin",i,a,y({},o,{tamperedTokenRedirect:!0}));case 12:return l=e.sent,e.abrupt("return",Promise.resolve(l));case 14:case"end":return e.stop()}}),e)}))),function(t,n){return e.apply(this,arguments)}),local:function(){return null},loading:E.a.parentalPinInitiated,success:E.a.parentalPinSuccess,error:E.a.parentalPinError};var e}},T=n(27),N=n(127),I=n(1),L=I.e.LOCAL_STORAGE_KEYS.PARENTAL_SESSION_TIMEDOUT,A=function(){function e(){_()(this,e),this.bindAction(d.a.setParentalLockModalVisibility,this.setParentalLockModalVisibility),this.bindActions(E.a),this.exportAsync(w),this.verifyPinData={loading:!1,success:!1,data:null,error:null},this.pin="",this.parentalPinSubmit={loading:!1,error:null}}var t;return h()(e,[{key:"setPin",value:function(e){this.pin=e}},{key:"parentalPinInitiated",value:function(){this.parentalPinSubmit={loading:!0,error:null}}},{key:"parentalPinSuccess",value:function(){var e=p.a.getState().parentalLockModal;this.parentalPinSubmit={loading:!1,error:null},Object(N.b)(),T.a.fireSubmittedKeyEvent("success",e.source),d.a.setParentalLockModalVisibility(!1,e.source)}},{key:"parentalPinError",value:function(e){var t=p.a.getState().parentalLockModal,n=e.errorCode,a=e.errorMessageV3;this.parentalPinSubmit={loading:!1,error:a},T.a.fireSubmittedKeyEvent(n,t.source),d.a.handleInvalidTokenIfApplicable({errorCode:n}),"ERR_UM_071"===n&&d.a.setParentalLockModalVisibility(!1,t.source)}},{key:"setParentalLockModalVisibility",value:function(e){var t=e.parentalLockModalVisible;localStorage.setItem(L,t),t||(this.parentalPinSubmit={loading:!1,error:null},this.pin="")}},{key:"verifyPin",value:(t=m()(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getInstance().verifyPin(t);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),C=v.a.createStore(A,"ParentalLockModalStore"),R=n(108),M=n(20),j=n.n(M),D=(n(33),n(40)),U=n.n(D),K=n(50),V=n.n(K),G=n(19),z=n(1889),X=n.n(z),B=n(252),F=n(1037),Y=n(14),H=n(4),J=n(92),W=n(34),Z=n(29),q=n(176),Q=i()("img",{className:"lock-icon",src:"https://secure-media.hotstarext.com/web-assets/prod/images/lock.svg",alt:""}),$=i()("i",{className:"fa fa-angle-right"}),ee=U()(X.a)((function(e){var t=e.globalStore,n=e.globalAction,a=e.parentalLockAction,r=e.parentalLockStore,l=t.loginState,s=t.parentalLockModal,c=n.setParentalLockModalVisibility,p=a.verifyPin,d=a.setPin,u=r.pin,b=r.parentalPinSubmit,f=Object(o.useState)(!1),m=j()(f,2),g=m[0],_=m[1],k=Object(o.useState)(!0),h=j()(k,2),v=h[0],x=h[1],O=V()("submit-button",{loader:b.loading}),E=I.e.ACCOUNT_SETTINGS_ROUTES,S=E.ACCOUNT_SETTINGS,P=E.PARENTAL_LOCK_SETTINGS;Object(o.useEffect)((function(){var e=H.a.configuration.PARENTAL_LOCK,t=(e=void 0===e?{SESSION_TIME:1800}:e).SESSION_TIME,n=I.e.LOCAL_STORAGE_KEYS.LAST_SESSION_TIME,a=parseInt(localStorage.getItem(n),10),i=a&&((new Date).getTime()-a)/1e3,o=W.a.getUserProfile()!==Z.d.KIDS;Object(N.a)()&&o&&l&&(!a||i>t)&&c(!0)}),[l]),Object(o.useEffect)((function(){s.visible&&T.a.fireViewedParentalLockEvent(s.source)}),[s.visible]);var y=function(){Y.a.isOnlyDigitsString(u)?(_(!1),s.source===I.e.PARENTAL_LOCK_PIN_SOURCE.EXIT_KIDS_MODE?W.a.switchProfileEvents.trigger("parentalLockExitKidsMode",u):p({pin:u})):_(!0)},w=i()(F.a,{onChange:function(e){e.length>=4?(d(e),x(!1)):x(!0)}});return window.location.pathname.includes(S)?null:i()("div",{className:V()("parental-lock-modal",s.visible?"showModal":"hideModal")},void 0,i()(B.a,{modalContent:s.visible?i()("div",{className:"parental-lock-container"},void 0,Q,i()("span",{className:"title"},void 0,Object(G.e)("web__info__ums__PARENTAL_LOCK")),i()("span",{className:"subtitle"},void 0,Object(G.e)("web__info__ums__PlEASE_ENTER_YOUR_FOUR_DIGIT_PIN_TO_CONTINUE_WATCHING")),w,i()(J.a,{className:"forgot-pin-link",to:"".concat(P,"?mode=").concat(q.a.UPDATE_PROFILE_PIN)},void 0,Object(G.e)("web__info__ums__FORGOT_PIN")),g?i()("div",{className:"error-container"},void 0,Object(G.d)("web__err__ums__INCORRECT_INPUT_PLEASE_ENTER_A_VALID_CHARACTER_FROM_ZERO_TO_NINE")):b.error?i()("div",{className:"error-container"},void 0,b.error):null,i()("button",{type:"button",onClick:y,disabled:v,className:O},void 0," ",Object(G.e)("web__info__home__CONTINUE")," ",$)):null,displayState:s.visible,isClosable:!1}))}));t.default=function(e){return c.canUseDOM?i()("div",{className:"sign-in-container"},void 0,i()(s.a,{stores:{globalStore:p.a,parentalLockStore:C},actions:{globalAction:d.a,parentalLockAction:E.a,menuActions:R.a}},void 0,r.a.createElement(ee,e))):null}}}]);